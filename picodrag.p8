pico-8 cartridge // http://www.pico-8.com
version 33
__lua__
-- game loop

function _init()
 ui = create_ui()
end

function _update()
end

function _draw()
 cls()
 draw_ui(ui)
end
-->8
-- creation of ui elements

function create_ui()
 local ui = {}
 ui.speedometer =
  create_speedometer(0, 88)
 ui.tachometer =
  create_tachometer(0, 104)
 ui.gearbox =
  create_gearbox(72, 100)
 return ui
end

function create_gauge(x, y, sprites)
 local gauge = {}
 gauge.x = x
 gauge.y = y
 gauge.sprites = sprites
 return gauge
end

function create_speedometer(x, y)
 return
  create_gauge(x, y,
   {1,1,1,1,1,1,1,1,1,1,1,2,2})
end

function create_tachometer(x, y)
 return
  create_gauge(x, y,
   {17,17,17,17,17,17,18,18})
end

function create_gearbox(x, y)
 local gearbox = {}
 gearbox.x = x
 gearbox.y = y
 gearbox.back = {}
 gearbox.back.sprites = {
  5,6,7,21,22,23,37,38,39}
 gearbox.handle = {}
 gearbox.handle.x = gearbox.x+8
 gearbox.handle.y = gearbox.y+8
 gearbox.handle.sprite = 9
 return gearbox
end
-->8
-- drawing functions

function draw_ui(ui)
 local xoff = 0

 for k, v in pairs(ui.speedometer.sprites) do
  local x = ui.speedometer.x + (xoff * 8)
  local y = ui.speedometer.y
  spr(v, x, y)
  xoff += 1
 end

 xoff = 0
 for k, v in pairs(ui.tachometer.sprites) do
  local x = ui.tachometer.x + (xoff * 8)
  local y = ui.tachometer.y
  spr(v, x, y)
  xoff += 1
 end

 spr(ui.gearbox.back.sprites[1],
  ui.gearbox.x,
  ui.gearbox.y)
 spr(ui.gearbox.back.sprites[2],
  ui.gearbox.x+8,
  ui.gearbox.y)
 spr(ui.gearbox.back.sprites[3],
  ui.gearbox.x+16,
  ui.gearbox.y)
 spr(ui.gearbox.back.sprites[4],
  ui.gearbox.x,
  ui.gearbox.y+8)
 spr(ui.gearbox.back.sprites[5],
  ui.gearbox.x+8,
  ui.gearbox.y+8)
 spr(ui.gearbox.back.sprites[6],
  ui.gearbox.x+16,
  ui.gearbox.y+8)
 spr(ui.gearbox.back.sprites[7],
  ui.gearbox.x,
  ui.gearbox.y+16)
 spr(ui.gearbox.back.sprites[8],
  ui.gearbox.x+8,
  ui.gearbox.y+16)
 spr(ui.gearbox.back.sprites[9],
  ui.gearbox.x+16,
  ui.gearbox.y+16)
 spr(ui.gearbox.handle.sprite,
  ui.gearbox.handle.x,
  ui.gearbox.handle.y)
end

__gfx__
00000000666666666666666600000000000000005566555555666555556665550000000000000000000000000000000000000000000000000000000000000000
00000000666666666666666600000000000000005556555555556555556555550000000000111100000000000000000000000000000000000000000000000000
007007006666666666666666000000000000000055565555555665555566655500000000011dd110000000000000000000000000000000000000000000000000
00077000666666666666666600000000000000005556555555556555555565550000000001dddd10000000000000000000000000000000000000000000000000
00077000666666666666666600000000000000005566655555666555556665550000000001dddd10000000000000000000000000000000000000000000000000
007007006666666666666668000000000000000055500555555005555550055500000000011dd110000000000000000000000000000000000000000000000000
000000006666666d6666666800000000000000005550055555500555555005550000000000111100000000000000000000000000000000000000000000000000
000000006666666d6666666800000000000000005550055555500555555005550000000000000000000000000000000000000000000000000000000000000000
00000000ffffffffffffffff00000000000000005550055555500555555005550000000000000000000000000000000000000000000000000000000000000000
00000000ffffffffffffffff00000000000000005550055555500555555005550000000000000000000000000000000000000000000000000000000000000000
00000000ffffffffffffffff00000000000000005550055555500555555005550000000000000000000000000000000000000000000000000000000000000000
00000000ffffffffffffffff00000000000000005550000000000000000005550000000000000000000000000000000000000000000000000000000000000000
00000000ffffffffffffffff00000000000000005550000000000000000005550000000000000000000000000000000000000000000000000000000000000000
00000000fffffffffffffff800000000000000005550055555500555555005550000000000000000000000000000000000000000000000000000000000000000
00000000fffffff4fffffff800000000000000005550055555500555555005550000000000000000000000000000000000000000000000000000000000000000
00000000fffffff4fffffff800000000000000005550055555500555555005550000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000005550055555500555555005550000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000005550055555500555555005550000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000005550055555500555555005550000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000005566655555656555556665550000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000005555655555656555556565550000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000005566655555666555556655550000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000005565555555556555556565550000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000005566655555556555556565550000000000000000000000000000000000000000000000000000000000000000
__map__
1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1a1a1a1a1a1a1a1a1a1a1a1a1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1b1a1a1a1a1a1a1a1a1a191a1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1b1b1a1a1a1a1a1a1a1a1a1a1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1a1b1b1a1a1a1a1a1a1a1a1a1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1a1b1b1b1a1a1a1a1a1a1a1a1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1a1b1b1b1b1b1b1a1b1b1a1a1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
